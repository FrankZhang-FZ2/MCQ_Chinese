"0","#function for checking percentage of missing data (unit=%)"
"0","percent_missing <- function(x){"
"0","  sum(is.na((x))/length(x)*100)"
"0","}"
"0","missing_R <- apply(MCQ_CN,1,percent_missing)"
"0","table(missing_R)"
"1","missing_R
"
"1","               0 "
"1","3.33333333333333 "
"1","6.66666666666667 "
"1","26.6666666666667 "
"1","
"
"1","             362 "
"1","               7 "
"1","               1 "
"1","               1 "
"1","
"
"0","#check where the NAs are if needed"
"0","rindex <- rep(FALSE, nrow(MCQ_CN))"
"0","for (i in 1:nrow(MCQ_CN)){"
"0","  for (j in 1:grep(""MCQ_30"",colnames(MCQ_CN))){"
"0","    if( is.na(MCQ_CN[i,j])){"
"0","      rindex[i] = TRUE"
"0","      j = ncol(MCQ_CN)+1"
"0","    }"
"0","  }"
"0","}"
"0","data_error <- MCQ_CN[rindex,]"
"0",""
"0","rm(data_error)"
"0",""
"0","#use if don't want imputation(turn off if I need imputation)"
"0","MCQ_CN <- subset(MCQ_CN, missing_R<=0)"
"0",""
"0",""
"0","##remove people that gave 90% of the same answer in MCQ"
"0",""
"0","for(i in 1:5){"
"0","  percent <- function(x){"
"0","  sum((x == i)/length(x)*100)"
"0","  }"
"0","  number <- apply(MCQ_CN,1,percent)"
"0","  MCQ_CN <- MCQ_CN[c(number<90),]"
"0","}"
